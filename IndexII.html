<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introdu√ß√£o a Programa√ß√£o com R</title>
    <meta charset="utf-8" />
    <meta name="author" content="Claudiano Neto, Dr." />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"<i class=\"fa fa-clipboard\"><\/i>","success":"<i class=\"fa fa-check\" style=\"color: #90BE6D\"><\/i>","error":"<i class=\"fa fa-times-circle\" style=\"color: #F94144\"><\/i>"})</script>
    <link href="libs/font-awesome/css/all.css" rel="stylesheet" />
    <link href="libs/font-awesome/css/v4-shims.css" rel="stylesheet" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Introdu√ß√£o a Programa√ß√£o com R
## T√≥picos Especiais em Meio Ambiente II
### Claudiano Neto, Dr.
### Universidade Federal do Rec√¥ncavo da Bahia <br> Cruz das Almas, BA, BRA
### Junho, 28, 2021

---




&lt;style type="text/css"&gt;
.tiny .remark-code { /*Change made here*/
    font-size: 60% !important;
}
&lt;/style&gt;





---
class: left, middle

# Agradecimentos

- Esses slides s√£o fortemente baseados no trabalho da Dra. Silvia Canel√≥n ([@spcanelon](https://twitter.com/spcanelon)),  "[Tour of the Tidyverse](https://github.com/spcanelon/tour-of-the-tidyverse)", bem como nos slides da Dra. Sara Mortara e da Dra. Andrea S√°nchez-Tapia ([Instituto Hub](https://github.com/liibre/instituto_hub)). 

- Para isso usei [xaringan](https://github.com/yihui/xaringan) üì¶ do Dr. Yihui Xie e [xaringanExtra](https://github.com/gadenbuie/xaringanExtra) üì¶ do Garrick Aden-Buie, e adaptado do [R-Ladies `xaringan` theme designed by Alison Hill](https://alison.rbind.io/post/2017-12-18-r-ladies-presentation-ninja/)

- Utilizaremos v√°rias refer√™ncias, todas dispon√≠veis nesse link [GitHub](https://github.com/cccneto/Topicos_UFRB)



---

## apresenta√ß√£o

<div>
<style type="text/css">.xaringan-extra-logo {
width: 150px;
height: 128px;
z-index: 0;
background-image: url(./figs/ufrb.png);
background-size: contain;
background-repeat: no-repeat;
position: absolute;
top:1em;right:1em;
}
</style>
<script>(function () {
  let tries = 0
  function addLogo () {
    if (typeof slideshow === 'undefined') {
      tries += 1
      if (tries < 10) {
        setTimeout(addLogo, 100)
      }
    } else {
      document.querySelectorAll('.remark-slide-content:not(.title-slide):not(.inverse):not(.hide_logo)')
        .forEach(function (slide) {
          const logo = document.createElement('div')
          logo.classList = 'xaringan-extra-logo'
          logo.href = null
          slide.appendChild(logo)
        })
    }
  }
  document.addEventListener('DOMContentLoaded', addLogo)
})()</script>
</div>


- __Claudiano Carneiro da Cruz Neto__ Economista (UESC), MSc. Desenvolvimento Regional e Meio Ambiente  (UESC), Dr. em Economia (UNB). Sou usu√°rio do R desde 2018, e me considero apaixonado por essa linguagem de programa√ß√£o. Amo trabalhar estudando a interface entre Economia e Meio Ambiente, por isso a maioria dos meus trabalhos est√° direcionado para essa linha de pesquisa.

- [Website](https://cneto.netlify.app/), [Twitter](https://twitter.com/ClaudianoNeto), [Github](https://github.com/cccneto)  

--

- __Grupo de Estudos em Economia e Meio Ambiente__
[Se quiser saber mais, clique aqui](http://dgp.cnpq.br/dgp/espelhogrupo/582306)
--

---

## sobre nosso curso

### Ambienta√ß√£o ao R e ao RStudio &lt;br&gt;
- Vantagens de usarmos programa√ß√£o para analisar dados
- O que √© e por que usar o RStudio
- Escrevendo e rodando c√≥digos

### Introdu√ß√£o √† programa√ß√£o em R

- Objetos e vetores
- Classes: n√∫meros, caracteres, l√≥gicos e data frames
- Operadores de sele√ß√£o; utilizar e criar fun√ß√µes no R
- Operadores l√≥gicos e aritm√©ticos
- Loopings de programa√ß√£o: for e while
- O operador pipe (%&gt;%)




---

## sobre nosso curso - continua√ß√£o

### Programa√ß√£o no dia a dia
- Exemplos de scripts reais
- Usando e instalando pacotes
- Estrutura√ß√£o de projetos
- Boas pr√°ticas de programa√ß√£o em R

### Importa√ß√£o de bases para dentro do R
- Importando arquivos de texto: .csv e .txt
- Importando arquivos excel: .xls e .xlsx

---

## sobre nosso curso - continua√ß√£o

### Manipula√ß√£o de bases de dados (o pacote tidyverse)
- Selecionando colunas
- Filtrando e ordenando linhas
- Modificando e criando colunas
- Criando sumariza√ß√µes
- Juntando duas bases

### Gr√°ficos (o pacote ggplot2)
- Gr√°ficos de pontos (dispers√£o)
- Gr√°ficos de barras
- Boxplots e histogramas
- Customizando gr√°ficos

---


## sobre nosso curso - continua√ß√£o

### Construindo artigos e relat√≥rios em R Markdown
- Introdu√ß√£o ao R Markdown
- Construindo relat√≥rios em HTML, PDF e Word

---

## sobre hoje

1. conhecendo a linguagem R e fluxo de trabalho

2. introdu√ß√£o ao R

3. manipula√ß√£o de dados

4. criando figuras b√°sicas

---

## c√≥digos de apoio

todos os c√≥digos dipon√≠veis em: 


[um besti√°rio de fun√ß√µes √∫teis](https://hackmd.io/@andreasancheztapia/bestiario_HUB)

---
## antes de come√ßar

+ procure a janela de chat do zoom, e n√£o hesite em fazer perguntas

--

+ tem um bot√£o verde para contar se tudo est√° certo. Periodicamente vamos perguntar se todo mundo est√° acompanhando, por favor use este bot√£o ou responda no chat

--

+ pode abrir sua c√¢mera :) procure manter seu microfone silenciado. 

---
class: inverse, middle, center

# 1. conhecendo a linguagem R e fluxo de trabalho


---
## por que R?

- linguagem de __c√≥digo aberto__, __livre__ &amp; __sem custo__: um dos pilares da ci√™ncia aberta

--

- __baseada em scripts__: essencial para reprodutibilidade, facilidade para ampliar a escala, transpar√™ncia, corre√ß√£o/robusteza 

--

- acess√≠vel (em compara√ß√£o a outras linguagens de programa√ß√£o)

--

- muito comum na Biologia, Ci√™ncia de Dados e outras √°reas. A escolha para quem precisa fazer analises estat√≠sticas

--

+ __interdisciplinar e modular__: muitos pacotes s√£o escritos por especialistas 

--

+ uma filosofia de passar facilmente do uso √†  programa√ß√£o

---
## por que R?

+ ferramentas para __comunicar os resultados__: manuscritos, presenta√ß√µes, _apps_

--

+ comunica√ß√£o com otras linguagens de programa√ß√£o (ex. python e __reticulate__) 

--

+ √≥tima capacidade gr√°fica 

--

+ __suporte oficial__: documenta√ß√£o, vignettes, listas de email

--

+ __suporte n√£o oficial__: uma comunidade ativa: listas de email, grupos de usu√°ries (useR), cap√≠tulos de .purple[R-Ladies+], comunidade de  [RStudio](community.rstudio.com/), 
Stack Overflow,

&lt;img src="https://raw.githubusercontent.com/rladies/starter-kit/master/stickers/rainbow-inclusive.png" width="150" /&gt;

---
## `R` tem uma estrutura modular: __pacotes__
--

+ a instala√ß√£o de base de `R` inclui pacotes mantidos pelo __`R` Core Development Team__

--

+ reposit√≥rio oficial de pacotes: __CRAN__ (The Comprehensive `R` Archive Network [https://cran.r-project.org/](https://cran.r-project.org/)) or Bioconductor, GitHub, rOpenSci.org

--

+ pacotes fora da instala√ß√£o de base precisam ser __instalados__ e __carregados__

--

+ os pacotes s√£o cole√ß√µes de __fun√ß√µes__ 

--

+ as fun√ß√µes t√™m __op√ß√µes__: "par√¢metros", "argumentos"

--

+ vamos manter a conven√ß√£o `nome_da_funcao()` e `pacote::nome_da_funcao()` quando for preciso especificar o pacote ao qual a fun√ß√£o pertence. 

---
## Ent√£o vamos instalar o `R`
--

+ A instala√ß√£o padr√£o do R √© feita a partir do CRAN, uma rede de servidores espalhada pelo mundo que armazena vers√µes id√™nticas e atualizadas de c√≥digos e documenta√ß√µes para o R.

--

+ Para instalar o R no Windows, siga os seguintes passos:

--

+ Acesse o CRAN: https://www.r-project.org/

--

+ No menu √† esquerda, encontre a op√ß√£o Download e clique em CRAN.

--

+ Escolha a op√ß√£o de servidor (mirror) mais pr√≥xima de voc√™.

---
## Ent√£o vamos instalar o `R`. 
--

+ Clique na op√ß√£o base. Na nova p√°gina, clique em **Download R x.x.x for Windows*, sendo x.x.x o n√∫mero da vers√£o que ser√° baixada. Em qualquer problema, tente escolher outro servidor no passo 3.

--

+ Feito o download, clique duas vezes no arquivo baixado e siga as instru√ß√µes para instala√ß√£o.

--

+ Para realizar o Download `R` 4.1.0 para Windows, clique no link:(https://cran.r-project.org/bin/windows/base/R-4.1.0-win.exe)

--

+ pacotes fora da instala√ß√£o de base precisam ser __instalados__ e __carregados__

---
## Ent√£o vamos instalar o `R Studio`. 
--

+ Agora vamos instalar a vers√£o open source do RStudio, a IDE que utilizaremos para escrever e executar c√≥digos em R.

+ Para instalar o RStudio no Windows, siga os seguintes passos:

+ Acesse a p√°gina de downloads da RStudio: https://rstudio.com/products/rstudio/download/#download

+ Se voc√™ tiver acesso administrador, baixe a vers√£o referente ao seu sistema operacional que est√° na lista de All Installers.

+ Se voc√™ n√£o tiver acesso de administrador, baixe a vers√£o referente ao seu sistema operacional que est√° na lista de Zip/Tarballs.

+ Clique duas vezes no arquivo baixado e siga as instru√ß√µes para instala√ß√£o.

---
background-image:url("figs/carcaca.jpg")
background-size: 50%
background-position: 50% 70%

## Pense no R assim

---
background-image:url("figs/caminhao.jpg")
background-size: 50%
background-position: 50% 70%

## E agora pense no R Studio 



---
background-image:url("figs/rstudio.png")
background-size: 60%
background-position: 50% 90%

## Vis√£o do RStudio 

---
## RStudio 

+ tela separada em tr√™s paineis. criar um __script__ abre o quarto painel. 

+ podemos executar c√≥digo no console mas vamos usar o __script__ para guardar os passos. 

+ escrever no script e clicar `control + enter` para mandar o conte√∫do para o console.

+ outras abas: help, environment, plots, files... 

&lt;!-- aqui NO! crear objetos, mostrar environment, mostrar ls() y mostrar el help y parar en files --&gt;

---
class: inverse, middle, center
## configura√ß√£o e organiza√ß√£o de projetos 

---
## pasta de trabalho

+ R tem que saber __em que pasta voc√™ est√° trabalhando__, para poder buscar os arquivos que voc√™ quer ler, e saber onde guardar os resultados de suas an√°lises: __working directory__: pasta de trabalho

--

+ para saber onde voc√™ est√°: `getwd()`

--

+ voc√™ pode mudar esta localiza√ß√£o usando `setwd()` mas n√£o √© recomendado (erros!) [Jenny Bryan](https://www.tidyverse.org/blog/2017/12/workflow-vs-script/)

--

+ melhor: em vez de abrir RStudio e trocar a pasta, abrir um script de R (extens√£o `.R`) ou um projeto de __RStudio project__ (extens√£o `.Rproj`) __j√° na pasta onde voc√™ vai trabalhar__. (Igual ao que voc√™ faria abrindo um arquivo 

---
## organiza√ß√£o de projetos e Boas Pr√°ticas

+ cada projeto de an√°lise de dados deveria estar em __uma √∫nica pasta__

--

+ __subpastas__ para organizar o conte√∫do.

--

+ em vez de usar __caminhos absolutos__ √© melhor usar __caminhos relativos__
+ evite `C://usuario/seu_nome/suas_pastas/seu_projeto` -&gt; caminho absoluto
+ `.` "aqui" (o resultado de `getwd()`)
+ `./subpastas` (ex. `/figs`)
+ o n√≠vel acima `..`

--

+ os __dados originais__ n√£o devem ser modificados. qualquer modifica√ß√£o deve ser salva √† parte, junto com os scripts que fizeram a modifica√ß√£o.

---
## o projeto atual

```
./nome_do_projeto/
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ codigo
‚îú‚îÄ‚îÄ dados
‚îÇ   ‚îú‚îÄ‚îÄ brutos
‚îÇ   ‚îî‚îÄ‚îÄ processados
‚îú‚îÄ‚îÄ figs
‚îî‚îÄ‚îÄ nome_do_projeto.Rproj
```

---
class: inverse, middle, center

## Como iremos trabalhar com o R Studio?

---
background-image:url("figs/flow.png")
background-size: 50%
background-position: 50% 90%

## Iremos trabalhar com projetos! 


---
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
